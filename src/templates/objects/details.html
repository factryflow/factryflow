{% extends 'base/main.html' %}

{% block title %}
    Job
{% endblock title %}

{% load partials %}

{% partialdef partial-form %}
    <form method="post" hx-post="{{ form_action_url }}" hx-redirect="true">
        {% csrf_token %}
        {% comment %} Hidden ID {% endcomment %}
        {% if id %}<input type="hidden" name="id" value="{{ id }}">{% endif %}
        <div class="md:flex md:flex-wrap -mx-3">
            {% for field in form %}
                <div class="md:w-1/2 px-3 mb-6">
                    <label for="{{ field.id_for_label }}"
                           class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2">
                        {{ field.label }}
                        {% if field.field.required %}<span class="text-red-500">*</span>{% endif %}
                    </label>
                    {{ field }}
                    {% if field.help_text %}<p class="text-gray-600 text-xs italic">{{ field.help_text }}</p>{% endif %}
                    {% for error in field.errors %}<p class="text-red-500 text-xs italic">{{ error }}</p>{% endfor %}
                </div>
                {% if forloop.counter|divisibleby:2 and not forloop.last %}
                </div>
                <div class="md:flex md:flex-wrap -mx-3">
                {% endif %}
            {% endfor %}
        </div>
        <div class="flex justify-left mt-6 space-x-4">
            <button class="text-[#181C32] bg-[#F1F1F2] focus:ring-4 font-semibold rounded-md text-base w-full sm:w-auto px-6 py-3 text-center">
                Cancel
            </button>
            {% if view_mode %}
                <a href="{{ edit_url }}"
                   class="text-white bg-[#023E8A] focus:ring-4 font-semibold rounded-md text-base w-full sm:w-auto px-6 py-3 text-center">
                    {{ button_text }}
                </a>
            {% else %}
                <button type="submit"
                        class="text-white bg-[#023E8A] focus:ring-4 font-semibold rounded-md text-base w-full sm:w-auto px-6 py-3 text-center">
                    {{ button_text }}
                </button>
            {% endif %}
        </div>
    </form>
{% endpartialdef %}

{% block content %}
    {% load static %}

    <div class="flex-wrap">
        <nav class="flex pb-4" aria-label="Breadcrumb">
            <ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
                <li class="inline-flex items-center">
                    <a href="/"
                       class="inline-flex items-center text-xs font-semibold text-[#5E6278]">
                        <img class="h-4 w-4" src="{% static 'images/home-icon.svg' %}" />
                    </a>
                </li>
                <li>
                    <div class="flex items-center">
                        <img class="h-4 w-4" src="{% static 'images/right.svg' %}" />
                        <a href="/job" class="ms-1 text-xs font-semibold text-[#5E6278] md:ms-2">Job</a>
                    </div>
                </li>
                <li>
                    <div class="flex items-center">
                        <img class="h-4 w-4" src="{% static 'images/right.svg' %}" />
                        <a href="/job/form"
                           class="ms-1 text-xs font-semibold text-[#5E6278] md:ms-2">New</a>
                    </div>
                </li>
                <li aria-current="page">
                    <div class="flex items-center">
                        <img class="h-4 w-4" src="{% static 'images/right.svg' %}" />
                        <span class="ms-1 text-xs font-semibold text-[#A1A5B7] md:ms-2">Job Details</span>
                    </div>
                </li>
            </ol>
        </nav>
        <div>
            <h1 class="text-2xl font-semibold text-[#181C32] pb-5">New Job</h1>
        </div>
    </div>
    <div class="rounded-xl bg-white px-8 py-8 w-full">
        <div>
            <h1 class="text-xl font-semibold text-[#5E6278] pb-8">{{ form_label }}</h1>
        </div>
        {% block form %}
            {% partial partial-form %}
        {% endblock form %}

    </div>
{% endblock content %}
